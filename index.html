<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
    <title id="dynamicTitle">n-word.pw</title>
    <meta name="description" content="jaxen bio - designer, producer">
    <link rel="stylesheet" href="css/main.css" />
    <link rel="shortcut icon" href="img/ecstasy-addiction-tablets.svg" type="image/ico">
    <script>
        const titleText = "i've lost my mind ";
        let index = 0;
        function rotateTitle() {
            const displayedText = titleText.slice(index) + titleText.slice(0, index);
            document.title = displayedText;
            index = (index + 1) % titleText.length;
        }
        window.addEventListener('load', () => {
            document.title = titleText.trim();
            setInterval(rotateTitle, 250);
        });
    </script>
</head>
<body>
    <script src="js/promise-polyfill.js"></script>
    <script src="js/devtools-detector.js"></script>
    <script>
      devtoolsDetector.addListener(function (isOpen) {
        if (isOpen) {
          window.location.href = "/videos/Righthere.mp4";
        }
      });
      devtoolsDetector.launch();
    </script>
    <div class="preloader">
        <div class="preloader-circle PreloaderStyle"></div>
    </div>
    <div id="asif-page">    
        <div class="wrapper">
            <div class="background">
                <video preload muted ref="background-video" id="background-video" onloadeddata="this.volume=0.3">
                    <source src="videos/Righthere.mp4" type="video/mp4"/>
                    <source src="videos/Righthere2.mp4" type="video/mp4" />
                    <source src="videos/Righthere3.mp4" type="video/mp4" />
                </video>          
            </div>
            <div class="asif-page-copyright" :style="CopyRightStyle">
                {{ copyrightText }}
            </div>
            <div class="container">       
                <div class="asif-page-wrapper">
                    <div class="asif-page-info">
                        <div
                            class="asif-page-info-play"
                            :class=" { 'is-playing': isPlaying }"
                            :style="PlayButtonStyle"
                            @click="startPlay"
                        >
                            Start
                        </div>
                        <div class="asif-page-info-logo"></div>
                        <div
                            ref="title"
                            :class="{ 'title-visible': titleVisible }"
                            class="asif-page-info-title"
                            :style="TitleStyle"
                        >
                            {{ title }}
                        </div>
                        <div
                            class="asif-page-info-social"
                            :class="{ 'social-visible': titleVisible }"
                        >
                            <transition-group name="social-fade" tag="div" class="asif-page-info-social-inner">
                              <a
                                v-for="(item, key) in social"
                                :key="key"
                                :href="getSocialLink(key, item)"
                                target="_blank"
                                class="asif-page-info-social-item"
                                @mouseenter="handleTooltipPosition($event)"
                                @focus="handleTooltipPosition($event)"
                              >
                                <span :style="SocialStyle" :class="'icon-' + key"></span>
                                <span class="social-tooltip">
                                  <span class="tooltip-label">{{ key.charAt(0).toUpperCase() + key.slice(1) }}</span>
                                  <span class="tooltip-username">{{ item }}</span>
                                </span>
                              </a>
                            </transition-group>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="background-dim" class="background-dim"></div>
    <script src="js/vue.js"></script>
    <script src="js/config.js"></script>
    <script src="js/common.js"></script>
    <script src="js/oneko.js"></script>
    <script>
      function showDim() {
        const dim = document.getElementById('background-dim');
        if (dim) {
          dim.classList.remove('hide');
          dim.style.display = 'block';
        }
      }
      function hideDim() {
        const dim = document.getElementById('background-dim');
        if (dim) {
          dim.classList.add('hide');
          setTimeout(() => {
            dim.style.display = 'none';
            dim.classList.remove('hide');
          }, 700);
        }
      }
      showDim();
      function handleTooltipPosition(event) {
        const tooltip = event.currentTarget.querySelector('.social-tooltip');
        if (!tooltip) return;
        tooltip.style.top = '';
        tooltip.style.bottom = '';
        tooltip.style.left = '50%';
        tooltip.style.right = '';
        tooltip.style.transform = 'translateX(-50%)';
        const prevDisplay = tooltip.style.display;
        tooltip.style.visibility = 'hidden';
        tooltip.style.opacity = '0';
        tooltip.style.display = 'block';
        const tooltipRect = tooltip.getBoundingClientRect();
        const iconRect = event.currentTarget.getBoundingClientRect();
        const spaceBelow = window.innerHeight - iconRect.bottom;
        const spaceAbove = iconRect.top;
        const offset = 18;
        let left = iconRect.left + iconRect.width / 2 - tooltipRect.width / 2;
        if (left < 4) left = 4;
        if (left + tooltipRect.width > window.innerWidth - 4) left = window.innerWidth - tooltipRect.width - 4;
        tooltip.style.left = left + 'px';
        tooltip.style.transform = 'none';
        if (window.innerWidth > 600 && spaceBelow > tooltipRect.height + offset) {
          tooltip.style.top = `calc(100% + ${offset}px)`;
          tooltip.style.bottom = '';
        } else if (spaceAbove > tooltipRect.height + offset) {
          tooltip.style.top = '';
          tooltip.style.bottom = `calc(100% + ${offset}px)`;
        } else {
          tooltip.style.top = `calc(100% + ${offset}px)`;
          tooltip.style.bottom = '';
        }
        tooltip.style.visibility = '';
        tooltip.style.opacity = '';
        tooltip.style.display = prevDisplay;
      }
      window.handleTooltipPosition = handleTooltipPosition;
    </script>
</body>
</html>